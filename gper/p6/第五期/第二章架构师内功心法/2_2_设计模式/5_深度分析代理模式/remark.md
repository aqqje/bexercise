# 代理模式的定义
```java
代理模式（Proxy Pattern）是指为其他对象提供一种代理，以控制对这个对象的访问，代理对象在客服端和目标对象之间起到中介作用 （结构型设计模式）
```

# 代理模式的适用场景
```java
1， 保护目标对象
2， 增加目标对象
```

# CgLib和JDK的异同

```java
1， CgLib 继承的方式， 覆盖父类的方法
2， JDK采用的实现的方式， 必须要求代理的目标对象一定要实现一个接口

思想一致： 都是通过生成字节码，重组一个新的类

对比：
JDK Proxy 对于用户而言，依赖更强， 调用也更复杂
CgLib 对目标类没有任何的要求

CgLib 效率更高，性能也更高，底层没有用到反射 （运行效率高，加载文件类效率低）
JDK Proxy 生成逻辑较为简单， 执行效率要低，每次调用都使用到反射（运行效率低，加载文件类效率高）

CgLib 有一个坑， 目标代理类不能有final的方法， 忽略final修饰的方法（不能代理）
```

# 代理模式的缺点
```java
1，代理模式会造成系统设计中类的数目增加
2，在客户端和目标对象之前增加了一个代理对象，请求处理速度变慢。增加了系统的复杂度
```
# Spring中的代理选择原则
```java
1, 当Bean有实现接口时，Spring就会用JDK的动态代理 
2，当Bean没有实现接口时，Spring选择CGLib
3，Spring可以通过配置强制使用CGLib， 只需在Spring的配置文件中加入如下代码：

<aop:aspectj-autoproxy proxy-target-class="true">
```

